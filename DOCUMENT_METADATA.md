# Метаданные нормативных документов

## Обязательные поля

Все документы должны содержать следующие обязательные поля в YAML front matter:

- `type` - тип документа (положение, регламент, приказ, распоряжение и т.д.)
- `organization` - наименование организации
- `department` - отдел/подразделение
- `number` - номер документа
- `date` - дата документа
- `title` - название документа
- `status` - статус документа (действующий, отменен и т.д.)

## Дополнительные поля для нормативных документов

Для нормативных документов (положения, регламенты, инструкции) рекомендуется указывать следующие дополнительные поля:

### Дата подписания (утверждения)

```yaml
approved_date: 2019-03-18
```

Дата подписания или утверждения документа. Формат: `YYYY-MM-DD` или `DD.MM.YYYY`. При отображении автоматически преобразуется в формат `дд.ММ.ГГГГ`.

### Дата ввода в действие

```yaml
effective_date: 2019-03-18
```

Дата, с которой документ вступает в силу. Может отличаться от даты подписания. Формат: `YYYY-MM-DD` или `DD.MM.YYYY`.

### Срок действия документа

Документ может иметь либо конкретную дату окончания действия, либо указание на бессрочность:

**Вариант 1: Конкретная дата окончания**
```yaml
expiry_date: 2024-12-31
```

**Вариант 2: Бессрочно**
```yaml
expiry_type: бессрочно
```

**Вариант 3: До особого распоряжения**
```yaml
expiry_type: до особого распоряжения
```

### Порядок внесения изменений

```yaml
amendment_procedure: |
  Изменения в настоящее положение вносятся приказом генерального директора 
  на основании предложений руководителя отдела информационных технологий 
  или иных заинтересованных подразделений. Все изменения должны быть 
  согласованы с юридическим отделом и утверждены генеральным директором.
```

Многострочное описание процедуры внесения изменений в документ. Поддерживается многострочный текст с использованием `|` в YAML.

### Печать на бланке

```yaml
print_on_letterhead: да
```

или

```yaml
print_on_letterhead: true
```

Поле указывает, что документ должен быть напечатан на фирменном бланке. 

**Важно:** 
- Бланк применяется только если документ **не** в статусе "в разработке" или "черновик"
- При печати на бланке технические данные (метаданные, порядок внесения изменений) скрываются
- Для каждого типа документа может быть свой шаблон бланка (например, `приказ.pdf`, `письмо.pdf`)
- Если шаблон для конкретного типа не найден, используется общий шаблон `default.pdf`
- Шаблоны бланков должны быть в формате PDF размера A4 и хранятся в `templates/letterheads/`

## Формат дат

Все даты в метаданных могут быть указаны в следующих форматах:

- `YYYY-MM-DD` (ISO формат, рекомендуется)
- `DD.MM.YYYY` (уже в нужном формате)
- `DD/MM/YYYY`
- `YYYY/MM/DD`

При отображении в HTML и PDF все даты автоматически преобразуются в формат `дд.ММ.ГГГГ`.

## Пример полного метаданных

```yaml
---
type: положение
organization: ООО ФК "РАНА"
department: Отдел информационных технологий
number: ПОЛ-ОИТ-001
date: 2019-03-18
title: Положение об отделе информационных технологий
status: действующий
approved_date: 2019-03-18
effective_date: 2019-03-18
expiry_type: бессрочно
amendment_procedure: |
  Изменения в настоящее положение вносятся приказом генерального директора 
  на основании предложений руководителя отдела информационных технологий 
  или иных заинтересованных подразделений. Все изменения должны быть 
  согласованы с юридическим отделом и утверждены генеральным директором.
---

# Содержимое документа...
```

## Отображение в HTML и PDF

Все указанные поля автоматически отображаются:

1. В таблице метаданных документа (даты подписания, ввода в действие, окончания)
2. В отдельном блоке "Порядок внесения изменений" (если указан)

Порядок внесения изменений отображается в выделенном блоке с синей рамкой для лучшей видимости.

